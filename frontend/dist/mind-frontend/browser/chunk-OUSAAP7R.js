import{b as w,c as T,d as A}from"./chunk-7AKY2XQY.js";import{a as D}from"./chunk-3QG6Y7EM.js";import{$a as L,Ca as p,Ga as b,Ha as y,Ia as C,Ja as o,K as v,Ka as i,La as M,Oa as P,P as h,Q as f,Qa as c,Ra as m,Va as S,Wa as d,Xa as l,Ya as g,Za as E,_,da as O,la as k,ma as r,mb as G,wa as x}from"./chunk-M5QZQM5Q.js";var R=a=>({exact:a}),F=(a,e)=>e.label;function I(a,e){if(a&1){let n=P();o(0,"li",24),c("mouseenter",function(){let s=h(n).$index,u=m();return f(u.handleGroupPointerEnter(s))}),o(1,"a",25,0),c("click",function(){h(n);let s=m();return f(s.closeMenu())}),l(3),i()()}if(a&2){let n=e.$implicit,t=e.$index,s=S(2),u=m();d("nav-group--has-children",n.children==null?null:n.children.length)("nav-group--open",u.isGroupOpen(t)),r(),C("routerLink",n.path)("routerLinkActiveOptions",L(8,R,n.path==="/")),p("aria-current",s.isActive?"page":null),r(2),E(" ",n.label," ")}}function $(a,e){if(a&1&&(o(0,"li")(1,"a",26),l(2),i()()),a&2){let n=e.$implicit;r(),C("routerLink",n.path),r(),g(n.label)}}var H=class a{menuOpen=_(!1);openGroup=_(null);hostRef=v(O);content=v(D);navGroups=this.content.nav();footer=this.content.footer;toggleMenu(){this.menuOpen.update(e=>!e),this.menuOpen()||this.openGroup.set(null)}closeMenu(){this.menuOpen.set(!1),this.openGroup.set(null)}closeGroup(){this.openGroup.set(null)}isGroupOpen(e){return this.openGroup()===e}handlePrimaryNavLeave(e){if(this.menuOpen())return;let n=e.relatedTarget,t=this.hostRef.nativeElement.querySelector("#site-navigation");n&&t?.contains(n)||this.openGroup.set(null)}handleGroupFocus(e){!this.menuOpen()&&this.navGroups[e]?.children?.length&&this.openGroup.set(e)}handleGroupPointerEnter(e){!this.menuOpen()&&this.navGroups[e]?.children?.length&&this.openGroup.set(e)}handleGroupKeydown(e,n){if(!this.navGroups[n]?.children?.length)return;let t=e.key;t==="ArrowDown"&&(e.preventDefault(),this.openGroup()!==n&&this.openGroup.set(n),requestAnimationFrame(()=>this.focusFirstItem(n))),t==="ArrowUp"&&(e.preventDefault(),this.openGroup.set(n),requestAnimationFrame(()=>this.focusLastItem(n))),t==="Escape"&&this.closeGroup()}handleSubmenuFocusOut(e,n){if(this.menuOpen())return;let t=e.relatedTarget;(!t||!this.hostRef.nativeElement.contains(t))&&this.openGroup.set(null)}focusFirstItem(e){this.hostRef.nativeElement.querySelector(`#submenu-${e}`)?.querySelector("a")?.focus()}focusLastItem(e){let t=this.hostRef.nativeElement.querySelector(`#submenu-${e}`)?.querySelectorAll("a");t&&t.length>0&&t[t.length-1].focus()}handleDocumentClick(e){this.hostRef.nativeElement.contains(e.target)||(this.openGroup.set(null),this.menuOpen.set(!1))}toggleGroup(e){if(!this.navGroups[e]?.children?.length){this.closeGroup();return}this.openGroup.update(n=>n===e?null:e)}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=x({type:a,selectors:[["app-site-layout"]],hostBindings:function(n,t){n&1&&c("click",function(u){return t.handleDocumentClick(u)},k)},decls:37,vars:8,consts:[["solo","routerLinkActive"],[1,"layout-root"],["href","#main-content",1,"skip-link"],["href","#site-navigation",1,"skip-link"],["href","#site-footer",1,"skip-link"],[1,"layout-header"],[1,"layout-container","layout-header-bar"],[1,"layout-brand"],["type","button","aria-controls","site-navigation",1,"menu-toggle",3,"click"],["aria-hidden","true",1,"menu-icon"],["aria-label","Primary","id","site-navigation"],[1,"primary-nav",3,"mouseleave"],[1,"nav-group",3,"nav-group--has-children","nav-group--open"],["aria-hidden","true",1,"nav-overlay",3,"click"],[1,"layout-main"],[1,"layout-container","layout-main-inner"],["id","main-content","tabindex","-1"],["id","site-footer",1,"layout-footer"],[1,"layout-container","footer-grid"],["aria-labelledby","footer-brand"],["id","footer-brand"],["aria-labelledby","footer-links"],["id","footer-links"],[1,"footer-links"],[1,"nav-group",3,"mouseenter"],["routerLinkActive","active",1,"nav-link",3,"click","routerLink","routerLinkActiveOptions"],[3,"routerLink"]],template:function(n,t){n&1&&(o(0,"div",1)(1,"a",2),l(2,"Skip to main content"),i(),o(3,"a",3),l(4,"Skip to navigation"),i(),o(5,"a",4),l(6,"Skip to footer"),i(),o(7,"header",5)(8,"div",6)(9,"div",7),l(10,"Mind Toolbox"),i(),o(11,"button",8),c("click",function(){return t.toggleMenu()}),M(12,"span",9),o(13,"span"),l(14,"Menu"),i()(),o(15,"nav",10)(16,"ul",11),c("mouseleave",function(u){return t.handlePrimaryNavLeave(u)}),b(17,I,4,10,"li",12,F),i()()()(),o(19,"div",13),c("click",function(){return t.toggleMenu()}),i(),o(20,"div",14)(21,"div",15)(22,"main",16),M(23,"router-outlet"),i()()(),o(24,"footer",17)(25,"div",18)(26,"section",19)(27,"h2",20),l(28),i(),o(29,"p"),l(30),i()(),o(31,"section",21)(32,"h2",22),l(33,"Explore"),i(),o(34,"ul",23),b(35,$,3,2,"li",null,F),i()()()()()),n&2&&(r(11),p("aria-expanded",t.menuOpen()),r(5),p("data-open",t.menuOpen()),r(),y(t.navGroups),r(2),d("nav-overlay--active",t.menuOpen()),r(),d("layout-main--blurred",t.menuOpen()),r(8),g(t.footer().projectName),r(2),g(t.footer().mission),r(5),y(t.navGroups))},dependencies:[G,w,T,A],styles:['[_nghost-%COMP%]{display:block;width:100%}.primary-nav[_ngcontent-%COMP%]{align-items:center}.primary-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.nav-group[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;gap:.35rem}.nav-group--has-children[_ngcontent-%COMP%]{padding-right:.4rem;padding-bottom:.75rem;margin-bottom:-.75rem}.nav-group--has-children[_ngcontent-%COMP%]:after{content:"";position:absolute;left:-.4rem;right:-.4rem;top:100%;height:.9rem}.nav-group--open[_ngcontent-%COMP%]   .nav-disclosure[_ngcontent-%COMP%]{box-shadow:0 8px 20px #114c9829}.nav-link[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{padding:.12rem .55rem;font-size:.7rem}.nav-link--primary[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text)}.nav-group-wrapper[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem}.nav-trigger[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:999px;border:1px solid rgba(17,76,152,.24);background:#114c9814;color:var(--color-accent-strong);transition:transform .2s ease,background .2s ease,box-shadow .2s ease}.nav-trigger[_ngcontent-%COMP%]:hover, .nav-trigger[_ngcontent-%COMP%]:focus-visible{background:#114c9829;box-shadow:0 0 0 3px #114c9824}.nav-group--open[_ngcontent-%COMP%]   .nav-trigger[_ngcontent-%COMP%]{transform:rotate(180deg)}.nav-submenu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .2rem);left:0;display:none;flex-direction:column;gap:.35rem;min-width:240px;padding:1rem;border-radius:var(--radius-md);background:#fffffff5;border:1px solid rgba(17,76,152,.12);box-shadow:0 18px 40px #114c982e;z-index:20}.nav-submenu[data-open=true][_ngcontent-%COMP%]{display:flex}.nav-submenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:space-between;gap:.5rem;padding:.55rem .65rem;border-radius:var(--radius-sm);color:var(--color-subtle);transition:background .2s ease,color .2s ease}.nav-submenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav-submenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible{background:#114c981a;color:var(--color-accent-strong)}.nav-submenu[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{padding:.05rem .5rem;font-size:.68rem}@media(max-width:1024px){.nav-group[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;width:100%;padding:.25rem 0}.nav-group--has-children[_ngcontent-%COMP%]{padding-bottom:0;margin-bottom:0}.nav-group-wrapper[_ngcontent-%COMP%]{justify-content:space-between}.nav-trigger[_ngcontent-%COMP%]{width:32px;height:32px}.nav-submenu[_ngcontent-%COMP%]{position:static;margin-top:.6rem;background:#ffffffd9;border:1px solid rgba(17,76,152,.12);box-shadow:none;padding:.75rem;display:none}.nav-submenu[data-open=true][_ngcontent-%COMP%]{display:flex}.nav-submenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem .4rem}}'],changeDetection:0})};export{H as SiteLayoutComponent};
